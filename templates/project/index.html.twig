{% extends 'layout.html.twig' %}

{% block title %}Projects - WorkFlow{% endblock %}

{% block content %}
<div class="space-y-6">
    {# Header #}
    <div class="sm:flex sm:items-center sm:justify-between">
        <div>
            <h1 class="text-xl font-semibold text-gray-900">Projects</h1>
            <p class="mt-2 text-sm text-gray-700">A list of all projects you have access to.</p>
        </div>
        <div class="mt-4 sm:mt-0">
            <a href="{{ path('app_project_new') }}"
               class="inline-flex items-center rounded-md bg-primary-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-primary-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary-600">
                <svg class="-ml-0.5 mr-1.5 h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                    <path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z" />
                </svg>
                New Project
            </a>
        </div>
    </div>

    {# Personal Project Section #}
    {% if personalProject is defined and personalProject %}
    <div>
        <h2 class="text-sm font-medium text-gray-500 uppercase tracking-wider mb-4">Personal Workspace</h2>
        <div class="grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3">
            {% include 'project/_card.html.twig' with {project: personalProject} %}
        </div>
    </div>
    {% endif %}

    {# Team Projects Section #}
    {% if projects|length > 0 %}
        <div>
            {% if personalProject is defined and personalProject %}
            <h2 class="text-sm font-medium text-gray-500 uppercase tracking-wider mb-4">Team Projects</h2>
            {% endif %}
            <div class="grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3">
                {% for project in projects %}
                    {% include 'project/_card.html.twig' with {project: project} %}
                {% endfor %}
            </div>
        </div>
    {% elseif not (personalProject is defined and personalProject) %}
        {% include 'components/_empty_state.html.twig' with {
            icon: 'folder',
            title: 'No projects',
            description: 'Get started by creating a new project.',
            action_url: path('app_project_new'),
            action_text: 'New Project'
        } %}
    {% endif %}
</div>
{% endblock %}
